let trackingData=[],currentSearchFilter="",currentStartDateFilter=null,currentEndDateFilter=null,currentPage=1;function processTrackingDataItem(t){let a="";return t.params&&t.params.campaignID&&(a=t.params.campaignID,delete t.params.campaignID,"{}"===JSON.stringify(t.params)&&delete t.params),{...t,campaignID:a}}function applyFiltersAndRefresh(){let t=trackingData;currentSearchFilter&&(t=t.filter((t=>Object.values(t).some((t=>t.toString().toLowerCase().includes(currentSearchFilter)))))),currentStartDateFilter&&"Invalid Date"!=currentStartDateFilter&&(t=t.filter((t=>new Date(t.decay)>=currentStartDateFilter))),currentEndDateFilter&&"Invalid Date"!=currentEndDateFilter&&(t=t.filter((t=>new Date(t.decay)<currentEndDateFilter))),populateTable(t),updateChart(t),updatePathChart(t),updateCampaignChart(t)}function fetchData(t=1,a=5e4){return fetch(`/track/api/tracking-data?page=${t}&limit=${a}`).then((t=>t.json())).then((a=>{trackingData=a.data,populateTable(sortByDate(a.data)),updateChart(a.data),updatePathChart(a.data),updateCampaignChart(a.data);const e=document.getElementById("currentPage");e&&(e.innerText=t)})).catch((t=>{}))}function eventFromPath(t){let a=t.indexOf("/"),e=t.lastIndexOf(".");return-1!==a&&-1!==e?t.substring(a+1,e):-1!==a?t.substring(a+1):-1!==e?t.substring(0,e):t}function sortByDate(t){return t.sort(((t,a)=>new Date(a.decay)-new Date(t.decay)))}function groupDataByCampaignId(t){return t.reduce(((t,a)=>{const e=a.campaignID||"Unknown";return t[e]||(t[e]=[]),t[e].push(a),t}),{})}